local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local function getCharacter()
	return player.Character or player.CharacterAdded:Wait()
end

local function randomizeSpeed(humanoid)
	local animator = humanoid:FindFirstChildOfClass("Animator")
	if not animator then return end

	local playingTracks = animator:GetPlayingAnimationTracks()
	if #playingTracks > 0 then
		-- Randomize WalkSpeed
		humanoid.WalkSpeed = math.random(16, 45)

		-- Randomize each playing animation's speed
		for _, track in ipairs(playingTracks) do
			track:AdjustSpeed(math.random() * 2.5 + 0.5) -- 0.5 to 3.0
		end
	end
end

local function monitor()
	local char = getCharacter()
	local humanoid = char:WaitForChild("Humanoid")

	RunService.RenderStepped:Connect(function()
		pcall(function()
			randomizeSpeed(humanoid)
		end)
	end)
end

-- Start monitoring
monitor()

-- Reapply on respawn
player.CharacterAdded:Connect(function()
	task.wait(1)
	monitor()
end)
